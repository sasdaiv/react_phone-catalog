(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{50:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){"use strict";c.r(t);var a=c(28),n=c.n(a),s=c(8),r=c(3),i=(c(50),c(11)),o=c(6),l=c(4),j=c(44),d=c.n(j),u=c(45),b=c(14),O="https://mate-academy.github.io/react_phone-catalog/api/products",h=Object(u.a)({reducerPath:"api",baseQuery:Object(b.d)({baseUrl:""}),endpoints:function(e){return{getProducts:e.query({query:function(){return"".concat(O,".json")}}),getProductDetails:e.query({query:function(e){return"".concat(O,"/").concat(e,".json")}})}}}),m=h.useGetProductsQuery,x=h.useGetProductDetailsQuery,f=c(13),_=Object(l.e)({name:"cart",initialState:[],reducers:{add:function(e,t){e.push({id:t.payload.id,quantity:1,product:t.payload})},increaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity+1})}))},decreaseQuantity:function(e,t){return e.map((function(e){return e.id!==t.payload?e:Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity-1})}))},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),p=_.actions,v=p.add,g=p.remove,N=p.increaseQuantity,y=p.decreaseQuantity,P=_.reducer,C=Object(l.e)({name:"favourites",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),k=C.actions,w=k.add,D=k.remove,M=C.reducer,S=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(t){return}}(),F=Object(l.b)({reducer:Object(o.a)({cart:P,favourites:M},h.reducerPath,h.reducer),middleware:function(e){return e().concat(h.middleware)},preloadedState:S});F.subscribe(d()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){throw new Error("Failed to serialize state")}}({cart:F.getState().cart,favourites:F.getState().favourites})}),1e3));c(67);var A,q=c(1),L=c.n(q),T=(c(68),c(22)),B=c(10),I=c.n(B),H=(c(69),c(0)),R=["type","children"],E=function(e){var t=e.type,c=e.children,a=Object(T.a)(e,R);return Object(H.jsx)(s.c,Object(f.a)(Object(f.a)({className:function(e){var c=e.isActive;return I()("NavLinkMain",Object(o.a)({},"NavLinkMain--".concat(t),t),{"is-active":c})}},a),{},{children:c}))},Q=(c(72),c.p+"static/media/Logo.2d8d3e42.svg"),G=function(){return Object(H.jsx)(s.b,{to:"/home",className:"Logo",children:Object(H.jsx)("img",{src:Q,alt:"logo"})})},U=function(){return Object(H.jsx)("nav",{className:"Navbar",children:Object(H.jsxs)("ul",{className:"Navbar__list",children:[Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(G,{})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(E,{type:"text",to:"/",children:"Home"})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(E,{type:"text",to:"phones",children:"Phones"})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(E,{type:"text",to:"tablets",children:"Tablets"})}),Object(H.jsx)("li",{className:"Navbar__item",children:Object(H.jsx)(E,{type:"text",to:"accessories",children:"Accessories"})})]})})},$=c(5),J=(c(73),function(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object($.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}),z=function(){var e=Object(s.d)(),t=Object($.a)(e,2),c=t[0],a=t[1],n=c.get("query")||"",i=Object(q.useState)(n),o=Object($.a)(i,2),l=o[0],j=o[1],d=Object(r.n)(),u=Object(q.useMemo)((function(){return d.pathname.split("/")[1]}),[d]);Object(q.useEffect)((function(){j(n)}),[u]);var b=Object(q.useMemo)((function(){return function(e){var t=e.pathname.split("/");return!(t.length>2)&&["phones","tablets","accessories","favourites"].some((function(e){return t.includes(e)}))}(d)}),[u]),O=Object(q.useCallback)(function(e,t){var c=0;return function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,n)}),t)}}(a,600),[u]);return Object(H.jsxs)("div",{className:I()("Search",{isVisible:b}),children:[Object(H.jsx)("input",{type:"text","aria-label":"search",value:l,className:I()("Search__input",{"has-icon":!l}),placeholder:"Search in ".concat(u,"..."),onChange:function(e){var t=e.target.value;j(t);var a={query:t.trim()||null};O(J(c,a))}}),Object(H.jsx)("button",{type:"button","data-cy":"searchDelete","aria-label":"clear-search",className:I()("Search__clear-button",{isActive:""!==l}),onClick:function(){j(""),a(J(c,{query:null}))}})]})},Y=function(){return Object(i.d)()},V=i.e,W=(c(74),function(e){var t=e.count;return Object(H.jsx)("span",{className:I()("Counter",{isActive:!!t}),children:t})}),K=function(){var e=V((function(e){return e.cart})),t=V((function(e){return e.favourites})),c=Object(q.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),a=Object(q.useMemo)((function(){return t.length}),[t]);return Object(H.jsxs)("header",{className:"Header",children:[Object(H.jsx)("div",{className:"Header__navigation",children:Object(H.jsx)(U,{})}),Object(H.jsxs)("div",{className:"Header__actions",children:[Object(H.jsx)(z,{}),Object(H.jsx)(E,{to:"favourites",type:"favourite","aria-label":"favourites",children:Object(H.jsx)(W,{count:a})}),Object(H.jsx)(E,{to:"cart",type:"cart","aria-label":"cart",children:Object(H.jsx)(W,{count:c})})]})]})},X=(c(75),["className","variant","sign","arrowDirection"]),Z=function(e){var t=e.className,c=void 0===t?"":t,a=e.variant,n=e.sign,s=e.arrowDirection,r=Object(T.a)(e,X);return Object(H.jsx)("button",Object(f.a)({type:"button",className:I()("Button",Object(o.a)({},c,c),Object(o.a)({},"Button--".concat(a),a),Object(o.a)({},"Button--quantity-".concat(n),n),Object(o.a)({},"Button--arrow-".concat(s),s))},r))},ee=(c(76),function(){return Object(H.jsx)("footer",{className:"Footer",children:Object(H.jsxs)("div",{className:"Footer__content container",children:[Object(H.jsx)(G,{}),Object(H.jsx)("div",{className:"Footer__info",children:Object(H.jsxs)("ul",{className:"Footer__list",children:[Object(H.jsx)("li",{className:"Footer__list-item",children:Object(H.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/sasdaiv",children:"Github"})}),Object(H.jsx)("li",{className:"Footer__list-item",children:Object(H.jsx)("a",{href:"https://github.com/sasdaiv",children:"Contacts"})}),Object(H.jsx)("li",{className:"Footer__list-item",children:Object(H.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/sasdaiv",children:"Rights"})})]})}),Object(H.jsxs)("div",{className:"Footer__anchor",children:[Object(H.jsx)("strong",{className:"Footer__anchor-text",children:"Back to top"}),Object(H.jsx)(Z,{variant:"arrow",arrowDirection:"top","aria-label":"scroll-top",onClick:function(){return window.scrollTo(0,0)}})]})]})})}),te=function(){return Object(H.jsx)(i.a,{store:F,children:Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(K,{}),Object(H.jsx)("main",{className:"App__main",children:Object(H.jsx)(r.b,{})}),Object(H.jsx)(ee,{})]})})},ce=(c(77),c(78),c.p+"static/media/banner-phones.b4eeda8b.png"),ae=c.p+"static/media/banner-tablets.a962057c.png",ne=c.p+"static/media/banner-accessories.bdd2e0fc.png";!function(e){e[e.First=0]="First",e[e.Last=2]="Last"}(A||(A={}));var se=function(){var e=Object(q.useState)(0),t=Object($.a)(e,2),c=t[0],a=t[1],n="translate(-".concat(100*c,"%, 0)"),r=function(){a((function(e){return e===A.Last?0:e+1}))};return Object(q.useEffect)((function(){var e=setInterval((function(){r()}),5e3);return function(){clearInterval(e)}}),[c]),Object(H.jsxs)("div",{className:"Carousel",children:[Object(H.jsxs)("div",{className:"Carousel__container",children:[Object(H.jsx)(Z,{variant:"arrow",arrowDirection:"left","aria-label":"carosuel-left",className:"Carousel__button",onClick:function(){a((function(e){return e===A.First?2:e-1}))}}),Object(H.jsx)("div",{className:"Carousel__image-container",children:Object(H.jsxs)("ul",{className:"Carousel__image-list",style:{transform:n},children:[Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/phones",className:"Carousel__link",children:Object(H.jsx)("img",{height:"400",src:ce,alt:"Phones",className:"Carousel__image"})})}),Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/tablets",className:"Carousel__link",children:Object(H.jsx)("img",{height:"400",src:ae,alt:"Tablets",className:"Carousel__image"})})}),Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/accessories",className:"Carousel__link",children:Object(H.jsx)("img",{height:"400",src:ne,alt:"Accessories",className:"Carousel__image"})})})]})}),Object(H.jsx)(Z,{variant:"arrow",className:"Carousel__button","aria-label":"carosuel-right",onClick:r})]}),Object(H.jsxs)("div",{className:"Carousel__badges",children:[Object(H.jsx)("button",{type:"button","aria-label":"carousel-show-first",className:I()("Carousel__badge",{"Carousel__badge--active":0===c}),onClick:function(){return a(0)}}),Object(H.jsx)("button",{type:"button","aria-label":"carousel-show-second",className:I()("Carousel__badge",{"Carousel__badge--active":1===c}),onClick:function(){return a(1)}}),Object(H.jsx)("button",{type:"button","aria-label":"carousel-show-third",className:I()("Carousel__badge",{"Carousel__badge--active":2===c}),onClick:function(){return a(2)}})]})]})},re=(c(79),function(e){var t=e.price;return t-t/100*e.discount}),ie=function(e,t){return e.some((function(e){return e.id===t}))},oe=function(e){var t=e.product,c=t.id,a=t.name,n=t.type,r=t.price,i=t.discount,o=t.screen,l=t.capacity,j=t.ram,d=t.imageUrl,u=V((function(e){return e.cart})),b=V((function(e){return e.favourites})),O=Y(),h=Object(q.useMemo)((function(){return re(t)}),[]),m="/".concat(n,"s/").concat(c),x=Object(q.useMemo)((function(){return ie(u,c)}),[u]),f=Object(q.useMemo)((function(){return ie(b,c)}),[b]);return Object(H.jsx)("div",{className:"ProductCard",children:Object(H.jsxs)("div",{className:"ProductCard__content",children:[Object(H.jsx)("div",{className:"ProductCard__image-container",children:Object(H.jsx)(s.b,{to:m,children:Object(H.jsx)("img",{className:"ProductCard__image",src:d,width:"208",height:"208",alt:"product"})})}),Object(H.jsx)("p",{className:"ProductCard__title",children:Object(H.jsx)(s.b,{to:m,children:a})}),Object(H.jsxs)("div",{className:"ProductCard__price",children:[Object(H.jsx)("h2",{className:"ProductCard__price-main",children:"$".concat(h)}),!!i&&Object(H.jsx)("p",{className:"ProductCard__price-discount",children:"$".concat(r)})]}),Object(H.jsx)("table",{className:"ProductCard__specs-table",role:"presentation",children:Object(H.jsxs)("tbody",{children:[Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Screen"}),Object(H.jsx)("td",{children:o||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Capacity"}),Object(H.jsx)("td",{children:l||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"RAM"}),Object(H.jsx)("td",{children:j||"-"})]})]})}),Object(H.jsxs)("div",{className:"ProductCard__buttons",children:[Object(H.jsx)(Z,{variant:"cart",className:I()({active:x}),onClick:function(){x||O(v(t))},children:x?"Added to cart":"Add to cart"}),Object(H.jsx)(Z,{variant:"favourite","data-cy":"addToFavorite","aria-label":"add-favourite",className:I()({active:f}),onClick:function(){O(f?D(c):w(t))}})]})]})})},le=(c(80),function(e){var t=e.products,c=Object(q.useState)(0),a=Object($.a)(c,2),n=a[0],s=a[1],r=t.length,i=Object(q.useMemo)((function(){return 272*r+16*(r-1)}),[]),o=Object(q.useMemo)((function(){return 272*n+16*n}),[n]),l="translate(-".concat(o,"px, 0)");return Object(H.jsx)("div",{className:"ProductsSlider",children:Object(H.jsxs)("div",{className:"ProductsSlider__slider",children:[Object(H.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(H.jsx)(Z,{disabled:0===n,variant:"arrow",arrowDirection:"left","aria-label":"slide-left",onClick:function(){s(n-4)}}),Object(H.jsx)(Z,{disabled:n===r-4,variant:"arrow","aria-label":"slide-right",onClick:function(){s(n+4)}})]}),Object(H.jsx)("div",{className:"ProductsSlider__content",children:Object(H.jsx)("ul",{className:"ProductsSlider__content-list","data-cy":"cardsContainer",style:{width:i,transform:l},children:t.map((function(e){return Object(H.jsx)("li",{children:Object(H.jsx)(oe,{product:e})},e.id)}))})})]})})}),je=function(e,t){return e.reduce((function(e,c){return c.type!==t?e:e+1}),0)},de=(c(81),function(){return Object(H.jsx)("div",{className:"Loader",children:Object(H.jsx)("div",{className:"Loader__content"})})}),ue=c.p+"static/media/category-phones.a089d6e2.png",be=c.p+"static/media/category-tablets.4343567d.png",Oe=c.p+"static/media/category-accessories.4333225f.png",he=function(){var e=m(),t=e.data,c=void 0===t?[]:t,a=e.isLoading,n=Object(q.useMemo)((function(){return c.filter((function(e){return 0!==e.discount})).sort((function(e,t){return re(e)-re(t)}))}),[c]),r=Object(q.useMemo)((function(){return c.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}),[c]),i=Object(q.useMemo)((function(){return je(c,"phone")}),[c]),o=Object(q.useMemo)((function(){return je(c,"tablet")}),[c]),l=Object(q.useMemo)((function(){return je(c,"accessory")}),[c]);return Object(H.jsxs)("div",{className:"HomePage container",children:[a&&Object(H.jsx)("div",{className:"HomePage__loader",children:Object(H.jsx)(de,{})}),!a&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{className:"HomePage__carousel-container",children:Object(H.jsx)(se,{})}),Object(H.jsxs)("section",{className:"section",children:[Object(H.jsx)("h2",{className:"section__title",children:"Hot prices"}),Object(H.jsx)(le,{products:n})]}),Object(H.jsxs)("section",{className:"HomePage__shop-by-category section",children:[Object(H.jsx)("h2",{className:"section__title",children:"Shop by category"}),Object(H.jsxs)("ul",{className:"HomePage__shop-by-category-container","data-cy":"categoryLinksContainer",children:[Object(H.jsxs)("li",{children:[Object(H.jsxs)(s.b,{to:"/phones",className:"HomePage__shop-by-category-link",children:[Object(H.jsx)("img",{src:ue,alt:"phones"}),Object(H.jsx)("h3",{children:"Mobile phones"})]}),Object(H.jsx)("p",{children:"".concat(i," models")})]}),Object(H.jsxs)("li",{children:[Object(H.jsxs)(s.b,{to:"/tablets",className:"HomePage__shop-by-category-link",children:[Object(H.jsx)("img",{src:be,alt:"tablets"}),Object(H.jsx)("h3",{children:"Tablets"})]}),Object(H.jsx)("p",{children:"".concat(o," models")})]}),Object(H.jsxs)("li",{children:[Object(H.jsxs)(s.b,{to:"/accessories",className:"HomePage__shop-by-category-link",children:[Object(H.jsx)("img",{src:Oe,alt:"accessories"}),Object(H.jsx)("h3",{children:"Accessories"})]}),Object(H.jsx)("p",{children:"".concat(l," models")})]})]})]}),Object(H.jsxs)("section",{className:"HomePage__brand-new section",children:[Object(H.jsx)("h2",{className:"section__title",children:"Brand new models"}),Object(H.jsx)(le,{products:r})]})]})]})},me=c(12),xe=(c(82),c(83),function(e){var t=e.items;return Object(H.jsx)("div",{className:"ProductsList","data-cy":"productList",children:Object(H.jsx)("ul",{className:"ProductsList__list",children:t.map((function(e){return Object(H.jsx)("li",{className:"ProductsList__item",children:Object(H.jsx)(oe,{product:e})},e.id)}))})})}),fe=(c(84),["children","params"]),_e=function(e){var t=e.children,c=e.params,a=Object(T.a)(e,fe),n=Object(s.d)(),r=Object($.a)(n,1)[0];return Object(H.jsx)(s.b,Object(f.a)(Object(f.a)({to:{search:J(r,c)}},a),{},{children:t}))},pe=function(e){var t=e.children,c=e.paramName,a=e.label,n=Object(q.useState)(!1),r=Object($.a)(n,2),i=r[0],l=r[1],j=Object(s.d)(),d=Object($.a)(j,2),u=d[0],b=d[1],O=u.get(c)||"",h=Object(q.useMemo)((function(){return L.a.Children.toArray(t)}),[]),m=Object(q.useRef)(),x=function(){l(!1)};return Object(q.useEffect)((function(){if(i){var e=function(e){m.current.contains(e.target)||l(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[i]),Object(H.jsx)("div",{ref:m,className:I()("DropdownSelect",{"is-active":i}),children:Object(H.jsxs)("label",{htmlFor:c,className:"DropdownSelect__label",children:[a,Object(H.jsx)("select",{name:c,id:c,className:"DropdownSelect__select",value:O,onChange:function(e){var t=Object(o.a)({},c,e.target.value);b(J(u,t))},onMouseDown:function(e){e.preventDefault(),l((function(e){return!e}))},children:t}),Object(H.jsx)("ul",{children:h.map((function(e){var t,a=e.props;return Object(H.jsx)("li",{children:Object(H.jsx)(_e,{params:(t={},Object(o.a)(t,c,a.value),Object(o.a)(t,"page","1"),t),onClick:x,children:a.children})},a.value)}))})]})})};c(85);var ve,ge,Ne=function(e){var t=e.total,c=e.perPage,a=e.currentPage,n=Object(q.useMemo)((function(){return Math.ceil(t/c)}),[t,c]),s=Object(q.useMemo)((function(){return function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,n)}),[n]);return Object(H.jsxs)("ul",{className:"Pagination","data-cy":"pagination",children:[Object(H.jsx)("li",{className:I()("Pagination__item",{disabled:1===a}),children:Object(H.jsx)(_e,{"data-cy":"paginationLeft",className:"Pagination__link Pagination__link--prev","aria-label":"pagination-left",params:{page:"".concat(a-1)}})}),s.map((function(e){return Object(H.jsx)("li",{className:I()("Pagination__item",{active:a===e}),children:Object(H.jsx)(_e,{className:"Pagination__link",params:{page:"".concat(e)},children:e})},e)})),Object(H.jsx)("li",{className:I()("Pagination__item",{disabled:a===n}),children:Object(H.jsx)(_e,{"data-cy":"paginationRight",className:"Pagination__link Pagination__link--next","aria-label":"pagination-right",params:{page:"".concat(a+1)}})})]})},ye=(c(86),function(e){var t=e.category;return Object(H.jsx)("div",{className:"NoSearchResults",children:Object(H.jsx)("h2",{children:"No ".concat(t," matching the query found \ud83e\uddd0")})})}),Pe=(c(87),function(){var e=Object(r.n)(),t=Object(q.useMemo)((function(){var t="";return e.pathname.split("/").filter((function(e){return!!e})).map((function(e,c,a){t+="/".concat(e);var n=function(e){return e.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")}(e);return Object(H.jsx)("li",{className:"Breadcrumbs__item",children:c!==a.length-1?Object(H.jsx)(s.b,{to:t,children:n}):n},e)}))}),[e]);return Object(H.jsx)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:Object(H.jsxs)("ul",{className:"Breadcrumbs__list",children:[Object(H.jsx)("li",{children:Object(H.jsx)(s.b,{to:"/home",className:"Breadcrumbs__home-link","aria-label":"home"})}),t]})})}),Ce=function(e){return e.trim().toLowerCase()},ke=(c(88),function(e){var t=e.category,c=t[0].toUpperCase()+t.slice(1);return Object(H.jsx)("div",{className:"NoResults",children:Object(H.jsx)("h2",{children:"".concat(c," not found")})})});!function(e){e.Phone="phone",e.Tablet="tablet",e.Accessory="accessory"}(ve||(ve={})),function(e){e.Age="age",e.Name="name",e.Price="price"}(ge||(ge={}));var we=function(e){var t,c,a=e.productType,n=m(),r=n.data,i=void 0===r?[]:r,l=n.isLoading,j=Object(s.d)(),d=Object($.a)(j,1)[0],u=d.get("sort")||"",b=d.get("perPage")||"",O=+(d.get("page")||"")||1,h=d.get("query")||"",x=(t={},Object(o.a)(t,ve.Phone,"Mobile phones"),Object(o.a)(t,ve.Tablet,"Tablets"),Object(o.a)(t,ve.Accessory,"Accessories"),t),f=(c={},Object(o.a)(c,ve.Phone,"phones"),Object(o.a)(c,ve.Tablet,"tablets"),Object(o.a)(c,ve.Accessory,"accessories"),c),_=Object(q.useMemo)((function(){return i.filter((function(e){return e.type===a}))}),[i,a]),p=Object(q.useMemo)((function(){return _.filter((function(e){var t=Ce(h);return Ce(e.name).includes(t)}))}),[_,h]),v=Object(q.useMemo)((function(){var e=Object(me.a)(p);switch(u){case ge.Age:return e.sort((function(e,t){return e.age-t.age}));case ge.Name:return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case ge.Price:return e.sort((function(e,t){return re(e)-re(t)}));default:return p}}),[u,p]),g=v.length,N={all:g,4:4,16:16,8:8,"":8},y=Object(q.useMemo)((function(){return N[b]*O-(N[b]-1)}),[O,b]),P=Object(q.useMemo)((function(){return Math.min(N[b]*O,g)}),[b,O,g]),C=Object(q.useMemo)((function(){return v.slice(y-1,P)}),[u,y,P,v]);return Object(H.jsxs)("div",{className:"ProductsPage container",children:[Object(H.jsx)("div",{className:"ProductsPage__breadcrumbs",children:Object(H.jsx)(Pe,{})}),Object(H.jsxs)("div",{className:"ProductsPage__title",children:[Object(H.jsx)("h1",{children:x[a]}),Object(H.jsx)("p",{children:"".concat(g," models")})]}),Object(H.jsxs)("div",{className:I()("ProductsPage__actions",{disabled:!g}),children:[Object(H.jsxs)(pe,{paramName:"sort",label:"Sort by",children:[Object(H.jsx)("option",{value:"age",children:"Newest"}),Object(H.jsx)("option",{value:"name",children:"Alphabetically"}),Object(H.jsx)("option",{value:"price",children:"Cheapest"})]}),Object(H.jsxs)(pe,{paramName:"perPage",label:"Items on page",children:[Object(H.jsx)("option",{value:"all",children:"All"}),Object(H.jsx)("option",{value:"4",children:"4"}),Object(H.jsx)("option",{value:"8",children:"8"}),Object(H.jsx)("option",{value:"16",children:"16"})]})]}),!g&&h&&!l&&Object(H.jsx)(ye,{category:f[a]}),!g&&!h&&!l&&Object(H.jsx)(ke,{category:f[a]}),l&&Object(H.jsx)(de,{}),!!g&&!l&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{className:"ProductsPage__product-list",children:Object(H.jsx)(xe,{items:C})}),g>3&&Object(H.jsx)(Ne,{total:g,perPage:N[b],currentPage:O})]})]})},De=(c(89),c(90),function(){var e=Object(r.p)();return Object(H.jsx)("button",{"data-cy":"backButton",type:"button",className:"GoBackButton",onClick:function(){return e(-1)},children:"Back"})}),Me=function(){var e=m().data,t=void 0===e?[]:e,c=Object(r.r)().productId,a=void 0===c?"":c,n=x(a),s=n.data,i=n.isLoading,o=n.isFetching,l=n.isError,j=Object(q.useState)(0),d=Object($.a)(j,2),u=d[0],b=d[1],O=Object(q.useState)(0),h=Object($.a)(O,2),f=h[0],_=h[1],p=Object(q.useState)(0),g=Object($.a)(p,2),N=g[0],y=g[1],P=V((function(e){return e.cart})),C=V((function(e){return e.favourites})),k=Y(),M=Object(q.useMemo)((function(){return ie(P,a)}),[P,a]),S=Object(q.useMemo)((function(){return ie(C,a)}),[C,a]),F=Object(q.useMemo)((function(){return t.find((function(e){return e.id===a}))}),[t,a]),A=Object(q.useMemo)((function(){return F?re(F):0}),[F]),L=Object(q.useMemo)((function(){return t.slice(4,16)}),[t]);Object(q.useEffect)((function(){window.scrollTo(0,0)}),[a]);return Object(H.jsxs)("div",{className:"ProductDetailsPage container",children:[Object(H.jsx)("div",{className:"ProductDetailsPage__breadcrumbs",children:Object(H.jsx)(Pe,{})}),Object(H.jsx)("div",{className:"ProductDetailsPage__return",children:Object(H.jsx)(De,{})}),l&&Object(H.jsx)("h2",{className:"ProductDetailsPage__not-found",children:"Product was not found"}),(i||o)&&Object(H.jsx)("div",{className:"ProductDetailsPage__loader",children:Object(H.jsx)(de,{})}),!i&&!o&&!l&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(H.jsxs)("section",{className:"ProductDetailsPage__main-content grid section",children:[Object(H.jsx)("h1",{className:"ProductDetailsPage__title",children:null===s||void 0===s?void 0:s.name}),Object(H.jsx)("aside",{className:"ProductDetailsPage__thumbnails",children:Object(H.jsx)("ul",{children:null===s||void 0===s?void 0:s.images.map((function(e,t){return Object(H.jsx)("li",{children:Object(H.jsx)("button",{type:"button",onClick:function(){return b(t)},className:I()("ProductDetailsPage__thumbnail-button",{active:u===t}),children:Object(H.jsx)("img",{src:e,alt:"thumbnail",width:"80",height:"78",className:"ProductDetailsPage__thumbnail"})})},e)}))})}),Object(H.jsx)("div",{className:"ProductDetailsPage__image-main",children:Object(H.jsx)("img",{src:null===s||void 0===s?void 0:s.images[u],alt:"product",width:"464"})}),Object(H.jsxs)("div",{className:"ProductDetailsPage__actions",children:[Object(H.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(H.jsx)("p",{children:"Available colors"}),Object(H.jsx)("ul",{children:["#fcdbc1","#5f7170","#4c4c4c","#f0f0f0"].map((function(e,t){return Object(H.jsx)("li",{children:Object(H.jsx)(Z,{variant:"color","aria-label":"choose-color-".concat(e),className:I()({active:N===t}),onClick:function(){return y(t)},children:Object(H.jsx)("span",{style:{backgroundColor:e}})})},e)}))})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__selectors",children:[Object(H.jsx)("p",{children:"Select capacity"}),Object(H.jsx)("ul",{children:["64 GB","256 GB","512 GB"].map((function(e,t){return Object(H.jsx)("li",{children:Object(H.jsx)(Z,{variant:"text","aria-label":"choose-capacity-".concat(e),className:I()({active:f===t}),onClick:function(){return _(t)},children:e})},e)}))})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__actions-container",children:[Object(H.jsxs)("div",{className:"ProductDetailsPage__price",children:[Object(H.jsx)("h2",{className:"ProductDetailsPage__price-sell",children:"$".concat(A)}),!(null===F||void 0===F||!F.discount)&&Object(H.jsx)("p",{className:"ProductDetailsPage__price-full",children:"$".concat(F.price)})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__buttons",children:[Object(H.jsx)(Z,{variant:"cart",className:I()("ProductDetailsPage__button-cart",{active:M}),onClick:function(){M||k(v(F))},children:M?"Added to cart":"Add to cart"}),Object(H.jsx)(Z,{variant:"favourite","data-cy":"addToFavorite","aria-label":"add-favourite",className:I()("ProductDetailsPage__button-favourite",{active:S}),onClick:function(){k(S?D(F.id):w(F))}})]})]}),Object(H.jsx)("div",{className:"ProductDetailsPage__specs-small",children:Object(H.jsx)("table",{className:"ProductDetailsPage__specs-table",role:"presentation",children:Object(H.jsxs)("tbody",{children:[Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Screen"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Resolution"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Processor"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"RAM"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]})]})})})]})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__details grid section",children:[Object(H.jsxs)("div",{className:"ProductDetailsPage__about","data-cy":"productDescription",children:[Object(H.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"About"}),Object(H.jsx)("p",{className:"ProductDetailsPage__about-description",children:null===s||void 0===s?void 0:s.description})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__techspecs",children:[Object(H.jsx)("p",{className:"ProductDetailsPage__about-subtitle",children:"Tech specs"}),Object(H.jsx)("table",{className:"ProductDetailsPage__techspecs-table",role:"presentation",children:Object(H.jsxs)("tbody",{children:[Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Screen"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenSize)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Resolution"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.display.screenResolution)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Processor"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.hardware.cpu)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"RAM"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.ram)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Built in memory"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.storage.flash)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Camera"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.camera.primary)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Additional Features"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.additionalFeatures)||"-"})]}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{children:"Cell"}),Object(H.jsx)("td",{children:(null===s||void 0===s?void 0:s.connectivity.cell)||"-"})]})]})})]})]})]}),Object(H.jsxs)("div",{className:"ProductDetailsPage__suggested",children:[Object(H.jsx)("h2",{children:"You may also like"}),Object(H.jsx)(le,{products:L})]})]})]})},Se=(c(91),c(92),function(e){var t=e.item,c=Y(),a=t.product,n=a.id,r=a.imageUrl,i=a.name,o=a.type,l="/".concat(o,"s/").concat(n),j=Object(q.useMemo)((function(){return re(t.product)}),[]);return Object(H.jsxs)("div",{className:"CartItem",children:[Object(H.jsx)("button",{className:"CartItem__delete",type:"button","data-cy":"cartDeleteButton","aria-label":"delete",onClick:function(){return c(g(n))}}),Object(H.jsx)(s.b,{to:l,className:"CartItem__image",children:Object(H.jsx)("img",{src:r,alt:i,width:"66",height:"66"})}),Object(H.jsx)(s.b,{to:l,className:"CartItem__title",children:i}),Object(H.jsxs)("div",{className:"CartItem__quantity",children:[Object(H.jsx)(Z,{variant:"quantity",sign:"minus","aria-label":"quantity-decrease",disabled:1===t.quantity,onClick:function(){return c(y(n))}}),Object(H.jsx)("span",{"data-cy":"productQauntity",children:t.quantity}),Object(H.jsx)(Z,{variant:"quantity",sign:"plus","aria-label":"quantity-increase",onClick:function(){return c(N(n))}})]}),Object(H.jsx)("div",{className:"CartItem__price",children:Object(H.jsx)("h2",{children:"$".concat(j)})})]})}),Fe=function(){var e=Object(q.useState)(!1),t=Object($.a)(e,2),c=t[0],a=t[1],n=V((function(e){return e.cart})),s=Object(q.useMemo)((function(){return n.reduce((function(e,t){return e+re(t.product)*t.quantity}),0)}),[n]);return Object(H.jsxs)("div",{className:"Cart container",children:[Object(H.jsx)("div",{className:"Cart__breadcrumbs",children:Object(H.jsx)(Pe,{})}),Object(H.jsx)("div",{className:"Cart__return",children:Object(H.jsx)(De,{})}),Object(H.jsx)("div",{className:"Cart__title",children:Object(H.jsx)("h1",{children:"Cart"})}),Object(H.jsx)("div",{className:I()("Cart__checkout-message",{active:c}),children:Object(H.jsx)("h2",{children:"We are sorry, but this feature is not implemented yet"})}),n.length?Object(H.jsxs)("div",{className:"Cart__content grid",children:[Object(H.jsx)("div",{className:"Cart__products",children:Object(H.jsx)("ul",{className:"Cart__products-list",children:n.map((function(e){return Object(H.jsx)("li",{children:Object(H.jsx)(Se,{item:e})},e.id)}))})}),Object(H.jsxs)("div",{className:"Cart__checkout",children:[Object(H.jsx)("h2",{children:"$".concat(s)}),Object(H.jsx)("p",{children:"Total for ".concat(n.length," items")}),Object(H.jsx)(Z,{variant:"cart",onClick:function(){a(!0),setTimeout((function(){a(!1)}),3e3)},disabled:c,children:"Checkout"})]})]}):Object(H.jsx)("h2",{className:"Cart__no-items-message",children:"Your cart is empty \ud83e\uddd0"})]})},Ae=(c(93),function(){var e=V((function(e){return e.favourites})),t=Object(s.d)(),c=Object($.a)(t,1)[0].get("query")||"",a=Object(q.useMemo)((function(){return e.filter((function(e){var t=Ce(c);return Ce(e.name).includes(t)}))}),[e,c]),n=a.length,r="".concat(n," item").concat(1===n?"":"s");return Object(H.jsxs)("div",{className:"Favourites container",children:[Object(H.jsx)("div",{className:"Favourites__breadcrumbs",children:Object(H.jsx)(Pe,{})}),Object(H.jsx)("div",{className:"Favourites__return",children:Object(H.jsx)(De,{})}),Object(H.jsx)("div",{className:"Favourites__title",children:Object(H.jsx)("h1",{children:"Favourites"})}),Object(H.jsx)("div",{className:"Favourites__items-count",children:Object(H.jsx)("p",{children:!!n&&r})}),!a.length&&c&&Object(H.jsx)(ye,{category:"favourites"}),e.length||c?Object(H.jsx)(xe,{items:a}):Object(H.jsx)("h2",{className:"Favourites__no-items-message",children:"No favourite items"})]})}),qe=(c(94),function(){return Object(H.jsxs)("div",{className:"NotFoundPage",children:[Object(H.jsx)("div",{className:"NotFoundPage__back",children:Object(H.jsx)(De,{})}),Object(H.jsx)("div",{className:"NotFoundPage__title",children:Object(H.jsx)("h1",{children:"Page not found..."})})]})}),Le=function(){return Object(H.jsx)(r.e,{children:Object(H.jsxs)(r.c,{path:"/",element:Object(H.jsx)(te,{}),children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(he,{})}),Object(H.jsx)(r.c,{path:"home",element:Object(H.jsx)(r.a,{to:"/",replace:!0})}),Object(H.jsxs)(r.c,{path:"phones",children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(we,{productType:ve.Phone})}),Object(H.jsx)(r.c,{path:":productId",element:Object(H.jsx)(Me,{})})]}),Object(H.jsxs)(r.c,{path:"tablets",children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(we,{productType:ve.Tablet})}),Object(H.jsx)(r.c,{path:":productId",element:Object(H.jsx)(Me,{})})]}),Object(H.jsxs)(r.c,{path:"accessories",children:[Object(H.jsx)(r.c,{index:!0,element:Object(H.jsx)(we,{productType:ve.Accessory})}),Object(H.jsx)(r.c,{path:":productId",element:Object(H.jsx)(Me,{})})]}),Object(H.jsx)(r.c,{path:"cart",element:Object(H.jsx)(Fe,{})}),Object(H.jsx)(r.c,{path:"favourites",element:Object(H.jsx)(Ae,{})}),Object(H.jsx)(r.c,{path:"*",element:Object(H.jsx)(qe,{})})]})})};n.a.render(Object(H.jsx)(s.a,{children:Object(H.jsx)(Le,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.c2d1c000.chunk.js.map